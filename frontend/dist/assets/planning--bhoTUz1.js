import{k as m,h as u,i as P}from"./index-DZgEsRqK.js";import{a as r}from"./client-CnkACndt.js";const w=m("planning",()=>{const s=u([]),o=u([]);async function i(){const{data:n}=await r.get("/plan/runs");return s.value=n,n}async function l(n,e){const t=new URLSearchParams({scenario_name:n});e&&t.set("run_at",e);const{data:a}=await r.post(`/plan/run?${t}`);return s.value=[a,...s.value],a}async function d(n,e,t){const a=new URLSearchParams;e&&a.set("sku",e),t&&a.set("warehouse_code",t);const{data:c}=await r.get(`/plan/runs/${n}/projected-inventory?${a}`);return c}async function f(n,e,t){const a=new URLSearchParams;e&&a.set("sku",e),t&&a.set("warehouse_code",t);const{data:c}=await r.get(`/plan/runs/${n}/planned-orders?${a}`);return c}const p=P(()=>s.value.filter(n=>o.value.includes(n.id)));return{planRuns:s,selectedRunIds:o,selectedRuns:p,fetchPlanRuns:i,runPlan:l,fetchProjectedInventory:d,fetchPlannedOrders:f}});export{w as u};
