import{d as f,w as h,o as y,c as n,a as e,e as w,f as b,F as i,r as c,g as k,h as p,i as _,j as a,t as o,_ as x}from"./index-DZgEsRqK.js";import{u as S}from"./planning--bhoTUz1.js";import"./client-CnkACndt.js";const g={class:"page-content-inner"},V={class:"content-section controls"},P={class:"form-row"},O=["value"],R=["href"],B={class:"content-section"},C={key:0,class:"app-table-wrap"},E={class:"app-table"},N={key:1,class:"muted"},U=f({__name:"PlannedOrdersView",setup(q){const d=S(),l=p(null),r=p([]),m=_(()=>d.planRuns),v=_(()=>l.value?`/api/exports/planned-orders?plan_run_id=${l.value}`:"#");return h(l,async u=>{u?r.value=await d.fetchPlannedOrders(u):r.value=[]},{immediate:!0}),y(()=>d.fetchPlanRuns()),(u,s)=>(a(),n("div",g,[s[4]||(s[4]=e("p",{class:"muted"},"Exportable table by scenario.",-1)),e("section",V,[e("div",P,[s[2]||(s[2]=e("label",{class:"form-label"},"Scenario",-1)),w(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>l.value=t),class:"app-select",style:{"max-width":"18rem"}},[s[1]||(s[1]=e("option",{value:null},"Select scenario",-1)),(a(!0),n(i,null,c(m.value,t=>(a(),n("option",{key:t.id,value:t.id},o(t.scenario_name)+" ("+o(t.created_at)+")",9,O))),128))],512),[[b,l.value]])]),l.value?(a(),n("a",{key:0,href:v.value,class:"app-btn app-btn-primary",download:""},"Export CSV",8,R)):k("",!0)]),e("section",B,[r.value.length?(a(),n("div",C,[e("table",E,[s[3]||(s[3]=e("thead",null,[e("tr",null,[e("th",null,"Week start"),e("th",null,"SKU"),e("th",null,"Warehouse"),e("th",null,"Order qty")])],-1)),e("tbody",null,[(a(!0),n(i,null,c(r.value,t=>(a(),n("tr",{key:t.id},[e("td",null,o(t.week_start),1),e("td",null,o(t.sku),1),e("td",null,o(t.warehouse_code),1),e("td",null,o(t.order_qty),1)]))),128))])])])):(a(),n("p",N,"No planned orders. Select a scenario or run a plan."))])]))}}),M=x(U,[["__scopeId","data-v-c9f3c590"]]);export{M as default};
