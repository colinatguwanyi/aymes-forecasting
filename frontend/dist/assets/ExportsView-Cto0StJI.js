import{d as w,o as S,c as o,a as n,e as u,f as c,F as v,r as m,g as _,i as d,h as f,j as s,t as r,_ as b}from"./index-DZgEsRqK.js";import{u as V}from"./planning--bhoTUz1.js";import"./client-CnkACndt.js";const j={class:"page-content-inner"},k={class:"content-section"},g={class:"form-row"},C=["value"],E=["href"],R={class:"content-section"},D={class:"form-row"},I=["value"],P=["href"],U=w({__name:"ExportsView",setup(h){const i=V(),p=d(()=>i.planRuns),a=f(null),l=f(null),y=d(()=>a.value?`/api/exports/projected-inventory?plan_run_id=${a.value}`:"#"),x=d(()=>l.value?`/api/exports/planned-orders?plan_run_id=${l.value}`:"#");return S(()=>i.fetchPlanRuns()),(B,e)=>(s(),o("div",j,[e[8]||(e[8]=n("p",{class:"muted"},"CSV exports for projected inventory and planned orders by scenario.",-1)),n("section",k,[e[4]||(e[4]=n("h2",null,"Projected inventory",-1)),n("div",g,[e[3]||(e[3]=n("label",{class:"form-label"},"Scenario",-1)),u(n("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.value=t),class:"app-select",style:{"max-width":"18rem"}},[e[2]||(e[2]=n("option",{value:null},"Select scenario",-1)),(s(!0),o(v,null,m(p.value,t=>(s(),o("option",{key:t.id,value:t.id},r(t.scenario_name)+" ("+r(t.created_at)+")",9,C))),128))],512),[[c,a.value]])]),a.value?(s(),o("a",{key:0,href:y.value,class:"app-btn app-btn-primary",download:""},"Download projected inventory CSV",8,E)):_("",!0)]),n("section",R,[e[7]||(e[7]=n("h2",null,"Planned orders",-1)),n("div",D,[e[6]||(e[6]=n("label",{class:"form-label"},"Scenario",-1)),u(n("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),class:"app-select",style:{"max-width":"18rem"}},[e[5]||(e[5]=n("option",{value:null},"Select scenario",-1)),(s(!0),o(v,null,m(p.value,t=>(s(),o("option",{key:t.id,value:t.id},r(t.scenario_name)+" ("+r(t.created_at)+")",9,I))),128))],512),[[c,l.value]])]),l.value?(s(),o("a",{key:0,href:x.value,class:"app-btn app-btn-primary",download:""},"Download planned orders CSV",8,P)):_("",!0)])]))}}),O=b(U,[["__scopeId","data-v-98dcfed8"]]);export{O as default};
